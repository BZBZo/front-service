<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.7.1.js" crossorigin="anonymous"></script>
    <script th:src="@{/js/common.js}"></script>
    <script th:src="@{/js/ootd_write.js}"></script>
    <script th:src="@{/js/layout.js}"></script>
    <link th:href="@{/css/layout.css}" rel="stylesheet">
    <link th:href="@{/css/ootd_write.css}" rel="stylesheet">

    <title>OOTD 목록 페이지</title>
</head>
<body>
<header>
    <div th:replace="~{fragments/header :: header}"></div>
</header>
<div class="ootd-container">
    <!-- 상단 프로필 영역 -->
    <div class="ootd-header">
        <div class="ootd-profile">
            <img th:src="${user.profileImageUrl ?: '/images/default-profile.png'}" alt="프로필 이미지" class="ootd-profile-img">
            <span class="ootd-nickname" th:text="${user.nickname ?: 'Guest'}"></span>
        </div>
    </div>

    <div class="ootd-image-preview" id="imagePreview">
        <img src="/images/sample_image_icon.png" alt="이미지 아이콘" id="sampleIcon" class="ootd-sample-icon">
        <input type="file" id="imageUpload" class="ootd-file-input" accept="image/*">
        <button class="preview-delete-btn" id="imageDeleteBtn" style="display: none;">&times;</button>
    </div>
    <!-- 게시글 내용 -->
    <div class="ootd-post-description">
        <textarea placeholder="태그를 입력하세요 예) #강아지용품 #애완용품" class="ootd-tag-input" name="title"></textarea>
    </div>

    <!-- 상품 추가 -->
    <div class="ootd-product-section">
        <div id="productList" class="ootd-product-list">
            <!-- 상품이 여기에 추가됩니다 -->
            <h2>+버튼을 눌러 관련 상품을 추가해주세요. <span>최대 3개까지 등록 가능</span></h2>
            <div class="ootd-plus-icon" id="addProductBtn">+</div>
        </div>
    </div>

    <!-- 등록 버튼 -->
    <button type="submit" id="submitBtn">등록</button>
</div>

<!-- 상품 검색 모달 -->
<div id="productModal" class="modal">
    <div class="modal-content">
        <span class="close-btn">&times;</span>
        <h2>상품 검색</h2>
        <input type="text" placeholder="상품명을 입력하세요" id="searchInput" class="search-input">
        <button class="search-btn" id="searchBtn">검색</button>
        <div id="searchResults" class="search-results">
            <!-- 검색된 상품 목록이 동적으로 추가됩니다 -->
        </div>
    </div>
</div>
<div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html>
